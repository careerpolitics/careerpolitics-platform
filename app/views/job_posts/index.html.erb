<% content_for :title, "Job & Exam Updates" %>

<div class="crayons-layout">
  <div class="crayons-layout__content">
    <div class="job-posts-container" style="max-width: 1280px; margin: 0 auto; padding: 20px;">
      <!-- Featured Job Posts Grid -->
      <div class="featured-job-posts" style="margin-bottom: 40px;">
        <h2 class="screen-reader-only">Featured Job Recruitments</h2>
        <div class="job-posts-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-bottom: 30px;">
          <% @featured_job_posts.each do |job_post| %>
            <a href="<%= job_post.link.presence || job_post_path(job_post.slug) %>" target="_blank" rel="noopener" class="job-post-card" style="display: block; padding: 20px; border-radius: 8px; text-decoration: none; color: inherit; background-color: <%= job_post.color || '#3b82f6' %>; transition: transform 0.2s, box-shadow 0.2s;" onmouseover="this.style.transform='translateY(-4px)'; this.style.boxShadow='0 4px 12px rgba(0,0,0,0.15)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
              <h3 style="color: white; margin: 0; font-size: 16px; font-weight: 600; line-height: 1.4;"><%= job_post.title %></h3>
            </a>
          <% end %>
        </div>
      </div>

      <!-- Three Column Sections -->
      <div class="job-posts-sections" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px;">
        <!-- NEW UPDATE Section -->
        <div class="section-new-update">
          <div class="section-header" style="background-color: #3b82f6; color: white; padding: 12px 16px; border-radius: 6px 6px 0 0; font-weight: 600; font-size: 18px;">
            NEW UPDATE
          </div>
          <div class="section-content" style="background-color: white; border: 1px solid #e5e7eb; border-top: none; border-radius: 0 0 6px 6px; padding: 16px;">
            <% if @new_updates.any? %>
              <ul style="list-style: none; padding: 0; margin: 0;">
                <% @new_updates.each do |job_post| %>
                  <li style="margin-bottom: 12px; padding-bottom: 12px; border-bottom: 1px solid #f3f4f6;">
                    <a href="<%= job_post.link.presence || job_post_path(job_post.slug) %>" target="_blank" rel="noopener" style="color: #3b82f6; text-decoration: none; font-size: 14px; line-height: 1.5; display: block;" onmouseover="this.style.textDecoration='underline'" onmouseout="this.style.textDecoration='none'">
                      <%= job_post.title %>
                    </a>
                  </li>
                <% end %>
              </ul>
            <% else %>
              <p style="color: #6b7280; font-size: 14px;">No updates available.</p>
            <% end %>
          </div>
        </div>

        <!-- ADMIT CARD Section -->
        <div class="section-admit-card">
          <div class="section-header" style="background-color: #3b82f6; color: white; padding: 12px 16px; border-radius: 6px 6px 0 0; font-weight: 600; font-size: 18px;">
            ADMIT CARD
          </div>
          <div class="section-content" style="background-color: white; border: 1px solid #e5e7eb; border-top: none; border-radius: 0 0 6px 6px; padding: 16px;">
            <% if @admit_cards.any? %>
              <ul style="list-style: none; padding: 0; margin: 0;">
                <% @admit_cards.each do |job_post| %>
                  <li style="margin-bottom: 12px; padding-bottom: 12px; border-bottom: 1px solid #f3f4f6;">
                    <a href="<%= job_post.link.presence || job_post_path(job_post.slug) %>" target="_blank" rel="noopener" style="color: #3b82f6; text-decoration: none; font-size: 14px; line-height: 1.5; display: block;" onmouseover="this.style.textDecoration='underline'" onmouseout="this.style.textDecoration='none'">
                      <%= job_post.title %>
                    </a>
                  </li>
                <% end %>
              </ul>
            <% else %>
              <p style="color: #6b7280; font-size: 14px;">No admit cards available.</p>
            <% end %>
          </div>
        </div>

        <!-- TOP ONLINE FORM Section -->
        <div class="section-online-form">
          <div class="section-header" style="background-color: #3b82f6; color: white; padding: 12px 16px; border-radius: 6px 6px 0 0; font-weight: 600; font-size: 18px;">
            TOP ONLINE FORM
          </div>
          <div class="section-content" style="background-color: white; border: 1px solid #e5e7eb; border-top: none; border-radius: 0 0 6px 6px; padding: 16px;">
            <% if @online_forms.any? %>
              <ul style="list-style: none; padding: 0; margin: 0;">
                <% @online_forms.each do |job_post| %>
                  <li style="margin-bottom: 12px; padding-bottom: 12px; border-bottom: 1px solid #f3f4f6;">
                    <a href="<%= job_post.link.presence || job_post_path(job_post.slug) %>" target="_blank" rel="noopener" style="color: #3b82f6; text-decoration: none; font-size: 14px; line-height: 1.5; display: block;" onmouseover="this.style.textDecoration='underline'" onmouseout="this.style.textDecoration='none'">
                      <%= job_post.title %>
                    </a>
                  </li>
                <% end %>
              </ul>
            <% else %>
              <p style="color: #6b7280; font-size: 14px;">No online forms available.</p>
            <% end %>
          </div>
        </div>
      </div>

      <% if user_signed_in? %>
        <div style="margin-top: 30px; text-align: right;">
          <%= link_to "Suggest Job Post", new_job_post_path, class: "crayons-btn crayons-btn--primary", style: "padding: 12px 24px; font-size: 16px; font-weight: 600;" %>
        </div>
      <% end %>
    </div>
  </div>
</div>
